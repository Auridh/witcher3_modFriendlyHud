modFriendlyHUD/UI
=================
by wghost81 aka Wasteland Ghost
===============================

Мод предназначен для игры с установленным Community Patch - Base.

Описание:
=========

Отключение элементов HUD способствует лучшему погружению в мир игры. Но хотя в процессе исследования мира служебная информация по большей части только мешает, играть без индикатора здоровья, например, в бою не очень удобно. Данный мод предлагает множество вариантов настройки модулей HUD, плюс новые возможности для отслеживания текущих задач и НПС, а также несколько улучшений игровых меню. Мод можно использовать целиком или отключить часть ненужных опций.

Мод ни коим образом не влияет на баланс и предоставляет только информацию, которая и так уже известна игроку. Установка мода не сделает игру легче и не повлияет на реализм, это лишь мод интерфейса, цель которого повысить удобство и степень погружения в мир игры.

Примечание: мод не меняет сохранения, так что установка/удаление посреди прохождения безопасны.

Изменения:
==========

1. Ненавязчивый настраиваемый HUD

- Умный HUD: отключите модули HUD, чтобы они не мешали вам рассматривать мир игры во время исследования, и мод автоматически будет показывать группы модулей тогда, когда они необходимы - в бою, при использовании чутья, при потере жизней и т.п.

- Быстрый доступ к отключенным модулям HUD с помощью опций "зажми, чтобы увидеть" и "прикрепить модуль": зажимая горячую клавишу можно увидеть соответствующую группу модулей, которая скрывается после того как клавиша отпущена; нажимая клавишу-модификатор "прикрепить", можно временно закрепить группу модулей и они не отключатся пока игрок их не открепит. Клавиши могут пересекаться с ванильными клавишами для соответствующих меню (т.к. вход в меню идёт по нажатию, а не по зажатию клавиши), так что запоминать десяток новых сочетаний не придётся.

- Опция, позволяющая скрыть неотключаемый модуль обновлений журнала - тот самый, который отображает обновления квестов, полученные квестовые предметы, книги, информацию о повышении уровня и т.п.

- 3D маркеры для отслеживания точек на карте: места интереса, квесты, НПС, пользовательские маркеры отображаются как иконки непосредственно в мире игры. Можно использовать вместо или вместе с миникартой. Внешний вид и режим отображения маркеров полностью настраиваются.

- Ненавязчивый компас по типу компаса из Скайрима: можно использовать вместо или вместе с миникартой и с 3D маркерами.

- Настраиваемые иконки и текст взаимодействия: можно отключить иконки "поговорить" и/или соответствующий текст для НПС или полностью отключить все подсказки взаимодействия.

- Квестовые маркеры для персонажей: исправлен ванильный баг (или это такая странная фича), который не позволял отображать квестовые маркеры для НПС, если их конкретный квест в данный момент не отслеживается.

- Настраиваемый масштаб для миникарты: по умолчанию карта отдалена вдвое по сравнению с ваниллой.

2. "Качество жизни"

- Быстрый доступ к зельям, бомбам и маслам через радиальное меню при помощи горячих клавиш/WASD/контроллера.

- Быстрое переключение между арбалетом и последней использованной бомбой.

- Возможность поставить игру на паузу в любое время, даже в диалоге и ролике на движке (пререндерные видео не паузу не ставятся).

3. Улучшения меню

- Возможность войти в основное меню когда угодно, даже из диалога или ролика (любого).

- Настраиваемый масштаб в меню карты и возможность включить свободное масштабирование.

- Настраиваемая вкладка инвентаря, которая открывается по умолчанию.

- Возможность никогда не помечать как новые предметы из категорий мусор, компоненты/ингредиенты и еда.

- Отображение истинной цены предмета и наценки во время торговли, а также информации о том, сколько таких предметов уже имеется в инвентаре и тайнике.

- Новые рецепты и схемы помечаются звёздочкой, чтобы их удобнее было искать.

- Улучшение из патча 1.22, позволяющее покупать компоненты для крафта непосредственно в меню крафта во время просмотра схемы добавлено также и алхимикам: теперь можно покупать ингредиенты непосредственно в меню алхимии во время просмотра рецепта.

- Улучшение патча 1.22, позволяющее разбивать кучку предметов на две при перемещении в тайник доработано: теперь можно также разбивать кучки при перемещении обратно в инвентарь.

- Возможность выбрать анимацию главного меню (по умолчанию, случайная, базовая игра, Каменные Сердца, Кровь и Вино).

4. Разное

- Возможность скрыть уровни противников и цифры нанесённого урона.

- Возможность отключить звуковое оповещение при обновлении журнала.

- Возможность приостанавливать эффект Кошки вне пещеры и возобновлять его ночью.

Назначения клавиш по-умолчанию:
===============================

"F2" - форсировать отображение 3D маркеров;
"F10" - включить/отключить основные модули HUD;
"F11" - пауза;
"~" - переключиться между арбалетом и выбранной ранее бомбой;
"Esc (или клавиша Select контроллера)" - вызвать меню в диалоге;
"Удерживать правый Shift" - прикрепить модуль (удерживайте правый Shift и одновременно нажмите M, чтобы закрепить мини-карту, например).
"1-9, 0, -, =" - выпить зелье/выбрать бомбу/нанести масло в радиальном меню;
"F1" - показать зелья в радиальном меню;
"F2" - показать бомбы в радиальном меню;
"F3" - показать масла в радиальном меню;
"F4" - показать активные эффекты в радиальном меню;
"Q (или клавиша Y контроллера)" - циклическое переключение между зельями/бомбами/маслами в радиальном меню;
"Стрелки контроллера" (или WASD, если включена соответствующая опция) - навигация по списку предметов в радиальном меню;
"Нажать на правый стик контроллера" (или "C", если включена соответствующая опция) - выпить выбранное зелье/выбрать бомбу/нанести масло в радиальном меню;
"Удерживать M" - временно показать мини-карту;
"Удерживать J" - временно показать текущее задание;
"Удерживать K" - временно показать модули со статистикой;
"Удерживать Enter" - временно показать основные модули;
"Удерживать кнопку Назад на контроллере" - инвентарь.

Настройка:
==========

Большая часть опций доступна во внутриигровом меню - ищите "Моды" и "Friendly HUD".

Настройки видимости 3D маркеров:
- Форсировать: учитывает макс. расстояние для показа маркеров, игнорирует условия видимости;
- Закрепить: игнорирует макс. расстояние, учитывает условия видимости;
- Разрешить закрепленные пользователем маркеры: установка зелёного пользовательского маркера поверх любого другого маркера одновременно форсирует и закрепляет этот маркер, пользовательский маркер при этом не отображается.
- Скрыть отключенные через карту маркеры: скрывает 3D маркеры, используя типы маркеров, отключенные в фильтре карты. Т.е. если отключить маркер Тайника на карте, то с этой опцией маркер Тайника также отключится и в 3D.

При включении условных модулей в меню они не появятся сразу, но появятся в следующий раз при наступлении данного условия. Например, если в бою включить выключенные до этого боевые модули, то для текущего боя они не появятся, но будут появляться нормально начиная со следующего боя. Отключение модулей срабатывает сразу.

Во всех меню доступны пресеты для быстрого сброса настроек мода в настройки по умолчанию или ванильные настройки.

Боевые модули: волчий медальон, эффекты, дополнительное снаряжение, повреждённые предметы, напарники.
Модули ведьмачьего чутья: мини-карта, отслеживаемый квест.
Модули медитации (для модов Friendly Meditation и Preparations): мини-карта.
Модули радиального меню: дополнительное снаряжение.

Списки модулей и быстрых предметов можно настроить редактируя файл "[Путь куда установлена The Witcher 3]\Mods\modFriendlyHUD\content\scripts\fhudconfig\modFriendlyHUDConfig.ws". При наличии минимальных познаний в области программирования можно легко поменять некоторые внутренние механизмы мода. Секция настроек начинается со строчки "Configurable section begin" и заканчивается строчкой "End of configurable section". Не меняйте ничего за пределами этой секции, если не уверены.

Установка:
==========

Для установки мода рекомендуется использовать The Witcher 3 Mod Manager (TW3MM), доступный для скачивания на Nexus Mods. TW3MM устанавливает все части мода автоматически, дополнительная ручная правка файлов не требуется.

Nexus Mod Manager (NMM) устанавливает мод не полностью, т.к. он не поддерживает установку меню и горячих клавиш, поэтому пользователям NMM всё равно необходимо проделать шаги 3 и 4 ручной установки!

Решение конфликтов с другими модами
===================================

При наличии других модов конфликты устраняются с помощью программы Script Merger. При этом надо убедиться, что все установленные моды поддерживают вашу версию игры, иначе конфликты скорее всего разрешить не удастся.

Настройка модулей HUD (важно!)
==============================

Мод не скрывает модули HUD, он их показывает. Так что для использования всех функций мода соответствующие модули необходимо отключить индивидуально в ванильном меню настроек видео. Отключать все модули не обязательно - те, что останутся включёнными, сохранят ванильное поведение. Отключение всего HUD в меню или горячей клавишей приведёт к тому, что модули не будут отображаться совсем (потому что все модули являются частью HUD и если HUD скрыт, то они тоже скрыты).

Ручная установка:
=================

1. Создание резервной копии (не обязательно)

Поскольку некоторые моды (включая этот) меняют файлы конфигурации, не повредит сделать резервную копию папки "[Path To The Witcher 3]\bin\config" (в случае если подобные моды ранее не устанавливались и папка всё ещё ванильная).

2. Установка основных файлов мода

Для установки основных файлов мода необходимо распаковать и скопировать папку "modFriendlyHUD" в "[Путь куда установлена The Witcher 3]\Mods". Если папка "Mods" не существует, её нужно создать. Основные файлы можно установить с помощью NMM, но привязки клавиш и настройки для игрового меню всё равно придётся устанавливать вручную (см. ниже).

3. Установка внутриигрового меню и горячих клавиш

Для работы игрового меню необходим файл modFHUDConfig.xml в папке "[Путь куда установлена The Witcher 3]\bin\config\r4game\user_config_matrix\pc" folder.

Для работы новых горячих клавиш, их необходимо добавить в файл "[Путь куда установлена The Witcher 3]\bin\config\r4game\user_config_matrix\pc\input.xml".

3.1. Быстрая установка

Если у вас нет других модов, добавляющих горячие клавиши, просто скопируйте папку "[Путь куда установлена The Witcher 3]\Mods\modFriendlyHUD\bin" в папку "[Путь куда установлена The Witcher 3]". Если всё сделано правильно, то появится окно, с вопросом хотите ли вы перезаписать существующий файл input.xml. Выберите "перезаписать", чтобы заменить исходный файл input.xml модифицированным.

3.2. Пошаговая установка

Если у вас уже установлены другие моды, добавляющие горячие клавиши, вы почти наверняка не захотите перезаписывать input.xml. В этом случае для установки горячих клавиш нужно открыть файлы "[Путь куда установлена The Witcher 3]\bin\config\r4game\user_config_matrix\pc\input.xml" и "[Путь куда установлена The Witcher 3]\Mods\modFriendlyHUD\bin\config\r4game\user_config_matrix\pc\input.xml" и скопировать изменения modFriendlyHUD вручную (они помещены внутрь комментариев "modFriendlyHUD begin" и "modFriendlyHUD end") в аналогичную часть существующего файла.

Также необходимо скопировать файл "[Путь куда установлена The Witcher 3]\Mods\modFriendlyHUD\bin\config\r4game\user_config_matrix\pc\modFHUDConfig.xml" в папку "[Путь куда установлена The Witcher 3]\bin\config\r4game\user_config_matrix\pc" для установки меню.

4. Инициализация установок мода по умолчанию и горячих клавиш

Установки мода хранятся в файле "C:\Users\[Имя Пользователя]\Documents\The Witcher 3\user.settings".

Привязки клавиш хранятся в файле "C:\Users\[Имя Пользователя]\Documents\The Witcher 3\input.settings".

Для инициализации настроек мода по-умолчанию необходимо открыть "C:\Users\[Имя Пользователя]\Documents\The Witcher 3\user.settings" и "[Путь куда установлена The Witcher 3]\Mods\modFriendlyHUD\user.settings.part.txt" из мода. Выделить всё в файле "user.settings.part.txt", скопировать и вставить в начало файла "user.settings". Если пропустить этот шаг, почти все функции мода будут отключены и будет казаться, что мод не работает или работает неправильно.

Для инициализации горячих клавиш необходимо открыть "C:\Users\[Имя Пользователя]\Documents\The Witcher 3\input.settings" и "[Путь куда установлена The Witcher 3]\Mods\modFriendlyHUD\input.settings.part.txt" из мода, выделить всё в файле "input.settings.part.txt", скопировать и вставить в начало файла "input.settings". Если пропустить этот шаг, то клавиши будут отображаться в меню, но назначить их нормально не получится.

Обновление:
===========

Удаление старой версии и установка новой - наиболее безопасный способ. Причём если мод удалялся через NMM, необходимо убедиться, что папка "[Path To The Witcher 3]\Mods\modFriendlyHUD" действительно была удалена. Если в списке изменений нет новых клавиш и опций меню, то никакие другие действия, кроме установки основных файлов, не требуются.

Если обновление содержит новые горячие клавиши, проще всего удалить файл "C:\Users\[Имя Пользователя]\Documents\The Witcher 3\input.settings", запустить игру один раз, чтобы получить новый файл с настройками по умолчанию и затем повторить шаги 3 и 4 описанного выше процесса установки.

Если обновление содержит новые опции меню, проще всего удалить файл "C:\Users\[Имя Пользователя]\Documents\The Witcher 3\user.settings", запустить игру один раз, чтобы получить новый файл с настройками по умолчанию и затем повторить шаги 3 и 4 описанного выше процесса установки.

Внимание! Не забудьте восстановить пользовательские настройки после удаления файлов input.settings и user.settings!

При наличии других модов, после установки надо удалить существующие объединения в ScriptMerger и объединить всё заново.

Удаление:
=========

Если вы ставили мод с помощью TW3MM, просто выберите пункт "удаление" и все части мода будут удалены полностью автоматически.

Не забудьте после удаления запустить Script Merger и восстановить ванильные настройки видео (модулей HUD).

Ручное удаление:
================

1. Удаление основных файлов мода

Использовать NMM или удалить вручную папку мода "[Путь куда установлена The Witcher 3]\Mods\modFriendlyHUD".

2. Удаление меню и горячих клавиш

Для удаления меню надо удалить файл modFHUDConfig.xml из папки "[Путь куда установлена The Witcher 3]\bin\config\r4game\user_config_matrix\pc".

Для удаления горячих клавиш их необходимо убрать из файла "[Путь куда установлена The Witcher 3]\bin\config\r4game\user_config_matrix\pc\input.xml".

2.1. Быстрое удаление с использованием резервной копии

Если у вас есть резервная копия папки "[Путь куда установлена The Witcher 3]\bin\config" и нет других модов, меняющих файлы конфигурации, просто удалите папку "[Путь куда установлена The Witcher 3]\bin\config" и скопируйте на её место папку "config" из резервной копии.

2.2. Ручное удаление

Для удаления горячих клавиш откройте файл "[Путь куда установлена The Witcher 3]\bin\config\r4game\user_config_matrix\pc\input.xml" и удалите всё между комментариями "modFriendlyHUD begin" и "modFriendlyHUD end".

Для удаления меню просто удалите файл "[Путь куда установлена The Witcher 3]\bin\config\r4game\user_config_matrix\pc\modFHUDConfig.xml".

3. Конфликты с другими модами

При наличии других модов, после удаления надо объединить всё заново в ScriptMerger.

4. Восстановление настроек HUD

Чтобы модули HUD вернулись к ванильному поведению, их надо будет включить в меню настроек видео вручную.
